name: Daily Backup

on:
  schedule:
    - cron: '0 20 * * *' # –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 23:00 –ø–æ –ö–∏—à–∏–Ω—ë–≤—É (20:00 UTC)
  workflow_dispatch:     # –≤—Ä—É—á–Ω—É—é –∑–∞–ø—É—Å–∫–∞—Ç—å —Ç–æ–∂–µ –º–æ–∂–Ω–æ

jobs:
  build-and-run:
    runs-on: ubuntu-latest

    steps:
    - name: üì• –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
      uses: actions/checkout@v3

    - name: üê≥ –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker Compose
      run: |
        docker-compose up --build --abort-on-container-exit

    - name: üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –ª–æ–≥–∏ –∫–∞–∫ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
      uses: actions/upload-artifact@v3
      with:
        name: backup-logs
        path: logs/